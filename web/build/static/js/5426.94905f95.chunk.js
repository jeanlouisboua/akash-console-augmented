"use strict";(self.webpackChunkweb=self.webpackChunkweb||[]).push([[5426],{90632:function(n,e,t){t.d(e,{y:function(){return d}});var i=t(98892),o=t(41298),r=t.n(o);function d(n,e){var t=r()("".concat(n).concat(e)),o={dictionaries:[i.Dv,i.yd],separator:" ",length:2,style:"capital",seed:t};return(0,i._8)(o)}},49857:function(n,e,t){t.d(e,{P:function(){return c}});var i=t(40901),o=t(69925),r=t(86149),d=t(89597),l=t(56578),a=(t(56167),t(30511)),s=t(37878),c=function(n){var e=n.icon,t=n.title,c=n.children;return(0,s.jsx)(i.Z,{children:(0,s.jsx)(o.Z,{children:(0,s.jsxs)(r.Z,{alignItems:"center",justifyContent:"center",minHeight:"24rem",children:[(0,s.jsx)(l.Z,{padding:"1rem",children:(0,s.jsx)(a.JO,{type:e})}),(0,s.jsx)(d.Z,{variant:"h3",component:"h3",children:t}),(0,s.jsx)(l.Z,{textAlign:"center",children:c})]})})})}},91620:function(n,e,t){t.d(e,{u:function(){return r}});var i=t(93054),o=t(37878);var r=function(n){var e=n.on,t=void 0===e?"All":e,i=n.off,r=void 0===i?"Only Audited":i,c=n.checked,u=void 0!==c&&c,p=n.onChange;return(0,o.jsx)(d,{children:(0,o.jsxs)(s,{children:[(0,o.jsx)(a,{id:"checkbox",type:"checkbox",checked:u,onChange:p}),(0,o.jsx)(l,{htmlFor:"checkbox","data-on":t,"data-off":r})]})})},d=(0,i.Z)("div",{target:"eaz4vaz3"})({name:"bjn8wh",styles:"position:relative"}),l=(0,i.Z)("label",{target:"eaz4vaz2"})({name:"44pgx0",styles:"position:absolute;top:0;left:0;width:42px;height:26px;background:rgba(244, 245, 248, 0.4);cursor:pointer;font-family:'Satoshi-Regular',serif;font-style:normal;font-weight:500;font-size:14px;line-height:20px;&:before{content:attr(data-on);position:absolute;top:5px;right:20px;}&:after{content:attr(data-off);width:40px;height:25px;padding:3px;background:#fff1f2;color:#f43f5e;border-radius:6px;position:absolute;left:2px;top:2px;text-align:center;transition:all 0.3s ease;box-shadow:0 0 6px -2px #f43f5e;}"}),a=(0,i.Z)("input",{target:"eaz4vaz1"})("cursor:pointer;width:50px;height:25px;opacity:0;position:absolute;top:0;z-index:1;margin:0;&:checked+",l,"{background:rgba(244, 245, 248, 0.4);border:1px solid #d1d5db;box-shadow:inset 0 2px 2px rgba(0, 0, 0, 0.1);border-radius:6px;&:before{content:attr(data-off);right:auto;left:20px;width:40px;}&:after{content:attr(data-on);left:46px;width:100px;background:#fff1f2;}}"),s=(0,i.Z)("label",{target:"eaz4vaz0"})(">",l,"{margin:0;width:150px;height:30px;background:rgba(244, 245, 248, 0.4);border:1px solid #d1d5db;box-shadow:inset 0 2px 2px rgba(0, 0, 0, 0.1);border-radius:6px;overflow:hidden;position:relative;display:block;}")},65426:function(n,e,t){t.r(e),t.d(e,{default:function(){return xn}});var i,o,r,d,l,a,s,c=t(11026),u=t(56167),p=t(87176),h=t(99377),x=t(89597),f=t(86149),g=t(54379),v=t(57911),b=t(50669),m=t(97798),j=t(45475),w=t(47292),y=t(11166),Z=t(56296),k=t(38654),S=t(18058),C=t(99122),A=t(80128),P=t(25063),R=t(2850),z=t(56238),I=t(28716),q=t(30511),F=t(85816),D=t(88137),J=t(66396),T=t(37878);function N(n,e,t){return e[t]<n[t]?-1:e[t]>n[t]?1:0}function O(n,e){return"desc"===n?function(n,t){return N(n,t,e)}:function(n,t){return-N(n,t,e)}}var E=[{id:"name",alignRight:!1,disablePadding:!1,label:"NAME"},{id:"dseq",alignRight:!1,disablePadding:!1,label:"DSEQ"},{id:"url",alignRight:!1,disablePadding:!1,label:"URL"},{id:"lease",alignRight:!1,disablePadding:!1,label:"LEASE"},{id:"status",alignRight:!1,disablePadding:!1,label:"STATUS"},{id:"updatable",alignRight:!1,disablePadding:!1,label:"UPDATABLE"}];function _(n){var e=n.order,t=n.orderBy,i=n.onRequestSort;return(0,T.jsx)(y.Z,{style:{backgroundColor:"#F9FAFB"},children:(0,T.jsx)(Z.Z,{children:E.map((function(n){return(0,T.jsx)(k.Z,{align:n.alignRight?"right":"left",padding:"normal",sortDirection:t===n.id&&e,children:(0,T.jsxs)(S.Z,{active:t===n.id,direction:e,onClick:(o=n.id,function(n){i(n,o)}),children:["UPDATABLE"===n.label?(0,T.jsxs)(T.Fragment,{children:[n.label,(0,T.jsx)(C.Z,{title:"If the initial deployment was done using a different client (not console) it cannot be updated by Console.",placement:"bottom",children:(0,T.jsx)(D.Z,{sx:{color:"#666666",fontSize:"18px",ml:"4px"}})})]}):n.label,t===n.id?(0,T.jsx)(v.Z,{component:"span",sx:j.Z,children:"desc"===e?"sorted descending":"sorted ascending"}):null]})},n.id);var o}))})})}var L=function(n){var e=n.rows,t=n.showAll,i=u.useState("desc"),o=(0,c.Z)(i,2),r=o[0],d=o[1],l=u.useState("dseq"),a=(0,c.Z)(l,2),s=a[0],p=a[1],h=u.useState(0),x=(0,c.Z)(h,2),f=x[0],g=x[1],b=u.useState(25),j=(0,c.Z)(b,2),w=j[0],y=j[1],Z=(0,m.s0)(),S=f>0?Math.max(0,(1+f)*w-e.length):0;return(0,T.jsx)(v.Z,{sx:{width:"100%",borderRadius:"8px",overflow:"hidden"},children:(0,T.jsxs)(A.Z,{sx:{width:"100%",mb:2},children:[(0,T.jsx)(P.Z,{children:(0,T.jsxs)(R.Z,{sx:{minWidth:750},"aria-labelledby":"deployment_table",size:"medium",children:[(0,T.jsx)(_,{order:r,orderBy:s,onRequestSort:function(n,e){d(s===e&&"asc"===r?"desc":"asc"),p(e)}}),(0,T.jsxs)(z.Z,{children:[e.slice().sort(O(r,s)).slice(f*w,f*w+w).map((function(n,e){if(t||1===n.status)return(0,T.jsxs)(B,{tabIndex:-1,onClick:function(){return e=String(n.dseq),void Z(e);var e},children:[(0,T.jsx)(U,{children:null===n||void 0===n?void 0:n.name}),(0,T.jsx)(M,{id:"deployment_table_".concat(e),children:(0,T.jsx)(C.Z,{title:"View Details",children:(0,T.jsx)(W,{children:null===n||void 0===n?void 0:n.dseq})})}),(0,T.jsx)(M,{children:""!==(null===n||void 0===n?void 0:n.url)?(0,T.jsxs)(Q,{href:"http://".concat(n.url),target:"_blank",children:[(0,T.jsx)("span",{className:"mr-2",children:(0,T.jsx)(q.JO,{type:"linkChain"})}),(0,T.jsx)("span",{className:"overflow-hidden",children:n.url})]}):null}),(0,T.jsx)(M,{children:null===n||void 0===n?void 0:n.lease}),(0,T.jsx)(M,{children:1===(null===n||void 0===n?void 0:n.status)?(0,T.jsx)(K,{children:"Active"}):(0,T.jsx)(V,{children:"Inactive"})}),(0,T.jsx)(M,{children:null!==n&&void 0!==n&&n.updatable?(0,T.jsx)(F.Z,{sx:{color:J.Z[500]}}):""})]},n.dseq)})),S>0&&(0,T.jsx)(B,{style:{height:53*S},children:(0,T.jsx)(k.Z,{colSpan:6})})]})]})}),(0,T.jsx)(I.Z,{rowsPerPageOptions:[5,10,25],component:"div",count:e.length,rowsPerPage:w,page:f,onPageChange:function(n,e){g(e)},onRowsPerPageChange:function(n){y(parseInt(n.target.value,10)),g(0)}})]})})},B=(0,w.Z)(Z.Z)(i||(i=(0,b.Z)(["\n  position: relative;\n  &:hover {\n    background-color: #f3f4f6;\n  }\n"]))),M=(0,w.Z)(k.Z)(o||(o=(0,b.Z)(["\n  padding: 21.5px;\n  cursor: pointer;\n"]))),U=(0,w.Z)(M)(r||(r=(0,b.Z)(["\n  padding: 21.5px;\n  width: 300px;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  cursor: pointer;\n"]))),W=w.Z.p(d||(d=(0,b.Z)(["\n  font-family: 'Satoshi-Medium', sans-serif;\n  font-style: normal;\n  font-weight: 500;\n  font-size: 14px;\n  line-height: 20px;\n  color: #fa5757;\n  cursor: pointer;\n"]))),Q=w.Z.a(l||(l=(0,b.Z)(["\n  box-sizing: border-box;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  padding: 4px 17px 4px 15px;\n  width: 190px;\n  height: 28px;\n  background: #ffffff;\n  border: 1px solid #d1d5db;\n  box-shadow: 0px 1px 2px rgba(0, 0, 0, 0.05);\n  border-radius: 6px;\n  white-space: nowrap;\n\n  font-family: 'Satoshi-Regular', serif;\n  font-style: normal;\n  font-weight: 500;\n  font-size: 14px;\n  line-height: 20px;\n  color: #6b7280;\n"]))),K=w.Z.div(a||(a=(0,b.Z)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: center;\n  padding: 2px 10px;\n  width: 54px;\n  height: 20px;\n\n  /* green/100 */\n  background: #d1fae5;\n  border-radius: 10px;\n\n  font-family: 'Satoshi-Regular';\n  font-style: normal;\n  font-weight: 500;\n  font-size: 12px;\n  line-height: 16px;\n  text-align: center;\n\n  /* green/800 */\n  color: #065f46;\n"]))),V=w.Z.div(s||(s=(0,b.Z)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: center;\n  padding: 2px 10px;\n  width: 64px;\n  height: 20px;\n\n  /* AKT red/100 */\n  background: #fee2e2;\n  border-radius: 10px;\n\n  font-family: 'Satoshi-Regular';\n  font-style: normal;\n  font-weight: 500;\n  font-size: 12px;\n  line-height: 16px;\n  text-align: center;\n\n  /* AKT red/800 */\n  color: #991b1b;\n"]))),G=t(11092),H=t(27791),X=t(76709),Y=t.n(X),$=t(52145),nn=t(462),en=t(14895),tn=t(90632),on=t(4141),rn=t(55119);function dn(n){var e=(0,rn.XG)().rpcNode,t=(0,p.sJ)(h.FR),i=(0,p.sJ)(h._i),o=(0,u.useState)(),r=(0,c.Z)(o,2),d=r[0],l=r[1],a=(0,nn.useQuery)(["deployments",{owner:n}],$.Ti,{refetchOnWindowFocus:!1,keepPreviousData:!0}),s=a.status,x=a.data,f=(0,nn.useQuery)(["leases",{owner:n}],$.sy,{refetchOnWindowFocus:!1,keepPreviousData:!0}).data,g=(0,p.FV)(h.YJ),v=(0,c.Z)(g,2),b=v[0],m=v[1],j=(0,p.sJ)(h.Dj),w=(0,u.useMemo)((function(){return null===f||void 0===f?void 0:f.leases.map((function(n){return n.lease}))}),[f]),y=(0,u.useCallback)((function(n){if(1===n.state&&w)return w.find((function(e){var t;return(null===e||void 0===e||null===(t=e.leaseId)||void 0===t?void 0:t.dseq.toString())===n.deploymentId.dseq.toString()}))}),[w]),Z=(0,u.useCallback)((function(n){if("TLS Certificate"===j.$type)return n&&(0,on.gf)(n,e)}),[j]);return(0,u.useEffect)((function(){"loading"===s&&b||x&&("success"===s&&b&&m(!1),Promise.all(x.deployments.map(function(){var n=(0,H.Z)((0,G.Z)().mark((function n(e){var o,r,d,l,a,s,c,u,p,h,x,f,g,v,b,m,j,w,k,S,C,A;return(0,G.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return g="",v="",b=y(e.deployment),n.next=5,Z(b);case 5:return m=n.sent,j=(0,en.TE)(null===e||void 0===e?void 0:e.deployment,null===e||void 0===e?void 0:e.escrowAccount,b,(null===t||void 0===t?void 0:t.current_price)||0),w=0,k=null===(o=new(Y())((null===(r=e.deployment)||void 0===r||null===(d=r.deploymentId)||void 0===d||null===(l=d.dseq)||void 0===l?void 0:l.low)||0,null===(a=e.deployment)||void 0===a||null===(s=a.deploymentId)||void 0===s||null===(c=s.dseq)||void 0===c?void 0:c.high,null===(u=e.deployment)||void 0===u||null===(p=u.deploymentId)||void 0===p||null===(h=p.dseq)||void 0===h?void 0:h.unsigned))||void 0===o?void 0:o.toString(),S=k?localStorage.getItem(k):null,C=S?JSON.parse(S):null,g=null!==C&&""!==C.name?C.name:(0,tn.y)(null===i||void 0===i||null===(A=i.accounts[0])||void 0===A?void 0:A.address,k),m&&m.services&&(v=Object.values(m.services).map((function(n){return n.uris[0]})).join(", ")),w=null!==C&&1===(null===(x=e.deployment)||void 0===x?void 0:x.state)&&void 0!==C.sdl?1:0,n.abrupt("return",{name:g,dseq:k,url:v,lease:j?"Time Left: ".concat(j?j.timeLeft:"N/A"):"Time Left: 0 days",status:(null===(f=e.deployment)||void 0===f?void 0:f.state)||0,updatable:w});case 15:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}())).then(l))}),[s,x,y,Z]),d}var ln=t(1835),an=t(91620),sn=t(49857),cn=t(74099),un=t(3224),pn=function(n){var e=n.hidden,t=(0,m.s0)(),i=(0,p.sJ)(h._i),o=u.useState(!1),r=(0,c.Z)(o,2),d=r[0],l=r[1];return u.useEffect((function(){var n;i.isSignedIn&&null!==i&&void 0!==i&&null!==(n=i.accounts[0])&&void 0!==n&&n.address&&l(!1)}),[i]),(0,T.jsxs)(sn.P,{icon:"newDeploy",title:"Nothing here yet",children:[(0,T.jsx)(x.Z,{variant:"body2",children:e>0?(0,T.jsxs)(T.Fragment,{children:["No active deployments to show for this wallet.",(0,T.jsx)("br",{}),"Create a new deployment, or view past deployments."]}):(0,T.jsxs)(T.Fragment,{children:["No deployments to show for this wallet.",(0,T.jsx)("br",{}),"Create a new deployment to get started."]})}),(0,T.jsx)(f.Z,{direction:"row",padding:"1.5rem",gap:"1rem",justifyContent:"center",children:i.isSignedIn?(0,T.jsxs)(g.Z,{variant:"contained",onClick:function(){t("/landing/node-deployment")},children:[(0,T.jsx)(v.Z,{paddingRight:"0.5rem",children:(0,T.jsx)(q.JO,{type:"add"})}),"Create New Deployment"]}):(0,T.jsx)(g.Z,{variant:"contained",onClick:function(){l(!0)},children:"Connect Wallet"})}),(0,T.jsx)(un.Z,{open:d,close:function(){l(!1)}})]})},hn=function(n){var e=n.showAll,t=(0,p.sJ)(h._i),i=(0,p.sJ)(h.FR),o=dn(null===t||void 0===t?void 0:t.accounts[0].address),r=(0,u.useMemo)((function(){return o&&o.filter((function(n){return e||1===n.status})).map((function(n){return n}))}),[o,e,i]);return r&&o?(0,T.jsx)(T.Fragment,{children:r.length>0?(0,T.jsx)(L,{rows:r,showAll:e}):(0,T.jsx)(pn,{hidden:o.length-r.length})}):(0,T.jsx)(ln.Z,{})},xn=function(){var n=u.useState(!1),e=(0,c.Z)(n,2),t=e[0],i=e[1],o=(0,cn.O)();return(0,T.jsxs)("div",{children:[(0,T.jsx)(f.Z,{direction:"row",spacing:1,alignItems:"center",sx:{marginBottom:"24px"},children:(0,T.jsx)(an.u,{on:"Active only",off:"All",checked:!t,onChange:function(n){i(!n.target.checked)}})}),o.isConnected?(0,T.jsx)(hn,{showAll:t}):(0,T.jsx)(pn,{hidden:0})]})}}}]);
//# sourceMappingURL=5426.94905f95.chunk.js.map